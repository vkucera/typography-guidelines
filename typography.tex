\documentclass[12pt,a4paper]{article}

\usepackage[LGR,T1]{fontenc}
\usepackage[utf8]{inputenc} % source file encoding
\usepackage[greek,british]{babel} % used languages (last one is default)
%\usepackage{amsmath,amsthm,amssymb} % AMS advanced mathematics (\text), AMS theorems, AMS symbols+fonts (\lesssim)
%\usepackage{lmodern}
\usepackage{newtxtext}
\usepackage[slantedGreek]{newtxmath}

% Mathematics
%\usepackage{isomath} % correct shapes of math symbols according to ISO standards (greek symbols, bold vectors, tensors, etc.)
\usepackage{siunitx} % SI units, correct typesetting of quantities

\usepackage[a4paper,margin=2.5cm]{geometry} % paper size and margins
\usepackage{datetime} % to print out time \currenttime
\usepackage[unicode]{hyperref} % hyperlinks
\hypersetup{
pdfauthor={Vít Kučera},
pdftitle={Typography guidelines for scientists}
%pdfsubject={},
%pdfkeywords={}
}

\usepackage{cprotect} % allows using \verb in macro arguments
\usepackage{textgreek} % text mode Greek letters, e.g. \textalpha
\usepackage{doi}

\input{commands.tex}

\author{Vít Kučera (\texttt{vit.kucera@cern.ch})}
\title{Typography guidelines for scientists}

\begin{document}

\maketitle

\begin{center}
Compiled on \today, \currenttime.

Available at \url{https://github.com/vkucera/typography-guidelines}.
\end{center}

\abstract{
This document aims to provide an extensive yet compact overview of formatting conventions which should be respected while writing a~scientific text.
The guidelines target on publications in the field of high-energy physics written in English and prepared with the typesetting system \LaTeX{}.
Related comments and suggestions of any kind are very welcome.
}


\tableofcontents

\section{Introduction}

\subsection{What is typography?}

\qm{Typography is the art and technique of arranging type to make written language legible, readable, and appealing when displayed.}~\cite{wiki-typography}

\subsection{Why should you care?}

Following typographical rules and style conventions helps the reader to understand the text without being confused by ambiguities, inconsistencies or distracted by the style.
This is even more important in scientific text where the appearance of symbols conveys information about their meaning.
Therefore, if you care about spelling words correctly, you should care about typesetting symbols correctly too.

\subsection{Who is right?}

While many visual aspects of a~document may be subject to personal taste, certain rules have been standardised and should be respected regardless of the preferences of the author, the collaboration or the journal.

Standards and recommendations relevant to scientific documents have been published by the following international organisations.
\begin{itemize}
\item \href{https://www.bipm.org}{Bureau International des Poids et Mesures (BIPM)}

BIPM defines the The International System of Units (SI) and the rules for using them correctly~\cite{bipm-si-brochure}.

\item \href{https://www.iso.org}{International Organization for Standardization (ISO)}

The standard ISO 80000 introduces the International System of Quantities (ISQ) which defines quantities used in scientific disciplines~\cite{iso-80000-1}.

\item \href{http://iupap.org}{International Union of Pure and Applied Physics (IUPAP)}

The \qm{Red Book} by IUPAP provides authoritative guidance on the use of symbols, units and nomenclature in physics~\cite{iupap-red-book}.

\item \href{https://iupac.org}{International Union of Pure and Applied Chemistry (IUPAC)}

The \qm{Green Book} by IUPAC provides a~compilation of widely used terms and symbols in physical chemistry~\cite{iupac-green-book}.
\end{itemize}
Comprehensive guidelines on usage of SI units and style conventions are also provided by the \href{https://www.nist.gov}{National Institute of Standards and Technology (NIST)} in special publications~\cite{nist-si,nist-si-guide} and on their websites~\cite{nist-units}.

\section{General principles}

It is crucial to be \emph{correct, consistent and clear}.
Define an unambiguous style scheme that complies with existing standards and stick to it.\\
Examples
\begin{itemize}
\item Use only one symbol and one name for a~specific entity.
    \begin{itemize}
    \item E.g. \ml{d_{0}} vs IP vs DCA, \qm{impact parameter} vs \qm{distance of closest approach}.
    \end{itemize}
\item Use only one entity for a~specific symbol.
    \begin{itemize}
    \item E.g. \ml{p} means \qm{momentum} and nothing else.
    \end{itemize}
\item Make sure a~given symbol looks the same everywhere, (i.e. it does not change it's meaning due to changes of appearance in different places).
\item Decide consistently position and order of indices and other elements in superscripts and subscripts.
\item Do not redefine standardised expressions.
    \begin{itemize}
    \item E.g. \ml{\Dt R = R_{2} - R_{1}} by definition of the \ml{\Dt} operator~\cite{iso-80000-2}, therefore defining \ml{\Dt R \df\sqrt{{\Dt\eta}^{2} + {\Dt\phi}^{2}}} is wrong.
    \end{itemize}
\item Use consistently British vs US spelling.
\end{itemize}

\section{Mathematics}

Recommendations for mathematical signs and symbols to be used in the natural sciences and technology are defined in the ISO 80000-2 standard~\cite{iso-80000-2}.

\begin{enumerate}
\item Do not use \verb_$$ $$_ for unnumbered equations.
Use \verb_\[ \]_ instead.
You will avoid vertical-spacing problems.
See \href{https://texfaq.org/FAQ-dolldoll.html}{\TeX{} FAQ} for more details.

\item Do not use \verb_$_ in definitions of new commands, especially if they are supposed to be used in math mode only.
If the new command is supposed to be used in text mode but requires features of the math mode (typically sub-/superscripts), use \verb_\ensuremath{ }_.
You will avoid unwanted escaping from math mode.

\item Consider using \verb_\( \)_ for inline math expressions instead of \verb_$ $_.
It will make debugging easier as you will avoid typing one \verb!$! more or less.
\end{enumerate}


\section{Quantities and units}
\label{sec:quantities}

The SI units are defined by the International System of Units (SI)~\cite{bipm-si-brochure}.
Using the SI implies also following the related mandatory rules~\cite[Sec.~5.4.1]{bipm-si-brochure}.
Some important extracts are quoted below.
\begin{enumerate}
\item \qm{Unit symbols are printed in upright type regardless of the type used in the surrounding text. They are printed in lower-case letters unless they are derived from a proper name, in which case the first letter is a capital letter.}~\cite[Sec.~5.2]{bipm-si-brochure}
(Exception: L and~l are both allowed for the litre.)

\item \qm{Unit symbols are mathematical entities and not abbreviations. Therefore, they are not followed by a period except at the end of a sentence, and one must neither use the plural nor mix unit symbols and unit names within one expression, since names are not mathematical entities.}~\cite[Sec.~5.2]{bipm-si-brochure}

\item \qm{In forming products and quotients of unit symbols the normal rules of algebraic
multiplication or division apply. Multiplication must be indicated by a space or a half-high
(centred) dot (\ml{\cdot}), since otherwise some prefixes could be misinterpreted as a unit symbol.
Division is indicated by a horizontal line, by a solidus (oblique stroke, \ml{/}) or by negative
exponents. When several unit symbols are combined, care should be taken to avoid
ambiguities, for example by using brackets or negative exponents. A solidus must not be
used more than once in a given expression without brackets to remove ambiguities.}~\cite[Sec.~5.2]{bipm-si-brochure}

\item \qm{The use of the correct symbols for SI units, and for units in general, as listed in earlier chapters of this brochure, is mandatory.}~\cite[Sec.~5.2]{bipm-si-brochure}

\item \qm{Symbols for quantities are generally single letters set in an italic font, although they may be qualified by further information in subscripts or superscripts or in brackets.}~\cite[Sec.~5.4.1]{bipm-si-brochure}

\item \qm{\ldots symbols for quantities are recommendations (in contrast to symbols for units, for which the use of the correct form is mandatory).}~\cite[Sec.~5.4.1]{bipm-si-brochure}

\item \qm{Symbols for units are treated as mathematical entities. In expressing the value of a quantity as the product of a numerical value and a unit, both the numerical value and the unit may be treated by the ordinary rules of algebra. (\ldots) For example, the equation \ml{p = \qty{48}{\kilo\pascal}} may equally be written as \ml{p/\unit{\kilo\pascal} = 48}.}~\cite[Sec.~5.4.1]{bipm-si-brochure}

\item \qm{The numerical value always precedes the unit and a space is always used to separate the unit from the number. Thus the value of the quantity is the product of the number and the
unit. The space between the number and the unit is regarded as a multiplication sign (just as
a space between units implies multiplication). The only exceptions to this rule are for the unit symbols for degree, minute and second for plane angle, \si{\degree}, \si{\arcminute} and \si{\arcsecond}, respectively, for which no space is left between the numerical value and the unit symbol.}~\cite[Sec.~5.4.3]{bipm-si-brochure}

\item \qm{Even when the value of a quantity is used as an adjective, a space is left between the
numerical value and the unit symbol.}~\cite[Sec.~5.4.3]{bipm-si-brochure}
\end{enumerate}

Unbreakable space between number and unit.

\subsection{Notation in tables and on graphs}
\label{subsec:graphs}

\qm{It is common practice to write the quotient of a~quantity and a~unit (\ldots) for a~column heading in a~table, so that the entries in the table are simply numbers.
The axes of a~graph may also be labelled in this way, so that the tick marks are labelled only with numbers,\ldots
}~\cite[Sec.~5.4.1]{bipm-si-brochure}

BIPM recommends the \qm{quantity/unit} style for table headers and labels of graph axes, e.g. \ml{v/(\unit[per-mode=symbol]{\metre\per\second})}.
Other common styles are:
\begin{itemize}
\item \qm{quantity~[unit]}, e.g. \ml{v~ [\unit[per-mode=symbol]{\metre\per\second}]}, \item \qm{quantity~(unit)}, e.g. \ml{v~(\unit[per-mode=symbol]{\metre\per\second})}.
\end{itemize}

\subsection{Note on the percent symbol}

Despite the common practice in ordinary English text, the correct way to use the \si{\percent} symbol within the SI is to separate it by a~space from the number.
Although it follows already from the general rules quoted above, the SI brochure mentions this case explicitly.
\qm{The internationally recognized symbol \si{\percent} (percent) may be used with the SI. When it is used, a space separates the number and the symbol \si{\percent}.}~\cite[Sec.~5.4.7]{bipm-si-brochure}

\subsection{Quantities in mathematical expressions}

Avoid using quantities in arguments of functions which do not operate on their units.
For example, expression \ml{m^{2}}, where \ml{m} is mass, is meaningful because the expression \si{\kg\squared} is defined.
On the other hand, expressions like \ml{m+m^{2}}, \ml{\sin{m}}, \ml{\conste^{m}}, \ml{\ln{m}} are not meaningful because the corresponding expressions for \si{\kg} (\ml{\si{\kg}+\si{\kg\squared}}, \ml{\sin{\si{\kg}}},\ldots) are not defined.
To use the numerical value of a~quantity in such a~function, divide the quantity by its unit and mention the unit explicitly as the numerical value depends on the choice of the unit: \ml{\ln{(m/\si{\kg})}}.

This also applies to relations (\ml{=}, \ml{<}, \ml{>},\ldots), so for example expression \ml{E>2}, where \ml{E} is energy, is also meaningless as \ml{\si{\joule} > 2} is not defined.
Same can be said about the expression \ml{1 < E < \qty{3}{\mev}} which should be correctly written either as \ml{\qty{1}{\mev} < E < \qty{3}{\mev}} or as \ml{1 < E/\unit{\mev} < 3}.


\section{Figures}

Conventionally, captions should be put \emph{under} figures.


\section{Tables}

Conventionally, captions should be put \emph{above} tables.


\section{Fonts}

Symbols of mathematical entities should be printed using the math mode.
Text mode should be used for everything else.

\begin{itemize}
\item Mathematical entities are elements of mathematical calculations.
They include numbers, units, quantities, variables, constants, functions, operators, relations, running indices,\ldots
\item Text entities include words, abbreviations, descriptive labels, particle names,\ldots
\item Numbers can be used in both modes but the font choice should always match the one of the expression the number appears in.
\end{itemize}

\subsection{Font selection}
\label{subsec:font-selection}

See \href{https://www.latex-project.org/help/documentation/fntguide.pdf}{\LaTeXe{} font selection}.
In the New Font Selection Scheme (NFSS), the appearance of text is defined by the choice of
\begin{itemize}
\item encoding (e.g. T1, OT1, LGR, OML)
\item family (e.g. serif, sans serif, monospaced), e.g. \verb|\textrm{...}|
\item series (weight and width), (e.g. medium, bold, light, condensed, expanded), e.g. \verb|\textbf{...}|
\item shape (e.g. upright, italic, slanted, small capitals), e.g. \verb|\textup{...}|
\item size (e.g. 10 pt, 12 pt)
\end{itemize}

Font (super)family can be chosen by loading the respective package (e.g. \verb_\usepackage{lmodern}_ for the Latin Modern superfamily).
See the \LaTeX{} Font Catalogue~\cite{latex-fonts} for the available fonts.
\LaTeX{} uses separate fonts for math mode and text mode which for some font superfamilies come in separate packages.
See \url{https://en.wikibooks.org/wiki/LaTeX/Fonts} for overview of font style commands and corresponding packages.

Note that font style commands \verb|\text...{...}| and \verb|\math...{...}| switch on respective modes for printing their arguments.

\subsection{Deprecated \LaTeX{} commands}

Do not use commands \verb_\rm_, \verb_\sf_, \verb_\tt_, \verb_\it_, \verb_\sl_, \verb_\em_ and \verb_\bf_.
They have been deprecated since the release of \LaTeXe{} in 1994 and the introduction of the New Font Selection Scheme (NFSS).
See \href{https://texfaq.org/FAQ-2letterfontcmd}{\TeX{} FAQ} for more details.
See Sec.~\ref{subsec:font-selection} for guidelines.

\subsection{Obsolete \LaTeX{} packages}

See \url{https://ctan.org/topic/obsolete}

\subsubsection{Obsolete fonts}

Replace \texttt{times}, \texttt{mathptm}, \texttt{mathptmx} packages with \texttt{newtx} (\texttt{newtxtext} and \texttt{newtxmath}).

\subsection{Roman vs upright}

In professional typography, ``roman'' means upright medium-weight font.
Contrary to this common terminology, \href{https://tex.stackexchange.com/a/191457}{``roman'' means serif family in \LaTeX{}}.
%\url{https://tex.stackexchange.com/questions/191452/shouldnt-beamer-redefine-mathrm}
%``Roman family, in latex this means glyphs with serifs.''

If the main text font or math font of the document are sans-serif fonts (typically in beamer or in some journals), one should avoid using \verb_\textrm_ and \verb_\mathrm_ commands, because they activate usage of a~serif font.

It is useful to define the \verb_\mathup_ command to print upright symbols in math mode without changing the math font family (see Sec.~\ref{sec:mathup}).
This can be used typically for printing units, the differential~\ml{\dd} in total derivatives and integrals and symbols of mathematical constants that use Latin alphabet letters, e.g. imaginary unit~\ml{\consti}, base of natural logarithm~\ml{\conste}.
See Sec.~\ref{subsec:greek-math} for suggestions on printing the constant~\ml{\constpi}.

To define a~new named operator or function, use \verb_\DeclareMathOperator_ (or \verb_\operatorname_ for one-time usage).
Note that these commands use special spacing rules so \href{https://tex.stackexchange.com/a/48463}{they are not interchangeable} with \verb_\mathrm_ (or \verb_\mathup_).
%See \url{https://tex.stackexchange.com/questions/48459/whats-the-difference-between-mathrm-and-operatorname/48463}

\subsection{Italics and boldface}

Recommendations given by BIPM~\cite{bipm-si-brochure}, ISO~\cite{iso-80000-1,iso-80000-2}, IUPAP~\cite{iupap-red-book} and IUPAC~\cite{iupac-green-book} all agree on a~list of general rules which can be summarised as follows:

\begin{itemize}
\item \textit{Italic} font should be used for symbols representing quantities or variables, upright font should be used for all other symbols.
\item \textbf{\textit{Boldface}} font should be used for vectors and matrices.
\item \textsf{\textbf{\textit{Sans-serif boldface}}} font should be used for tensors.
\end{itemize}

The last rule implies that using a~sans-serif font as the default math font (like in beamer) is not a~good idea for documents using linear algebra objects.

Since family, shape and weight of the font used for a~given mathematical symbol precise the meaning of the entity represented by that symbol, they should stay the same throughout the document so that the appearance of the symbol does not depend on the attributes of the surrounding text (e.g. bold titles, italic theorems).

What is a variable?

What is not a variable?

Exceptions: chemical formulas


particle symbols
IUPAC~\cite[Secs. 1.6, 2.10.1 (ii)]{iupac-green-book}

\subsubsection{Note on PDG}

Contrary to international standardised conventions, the Particle Data Group (PDG) uses their own convention: \qm{We give here our conventions on type-setting style. Particle symbols are italic (or slanted) characters}~\cite[p. 15]{pdg-2018}.
This is obviously a~very unfortunate decision as it makes some particle symbols look the same as symbols of some frequently used quantities (e.g. \ml{u}, \ml{p}, \ml{s}, \ml{e}, \ml{t}).
A~closer look at the \qm{Review of Particle Physics} suggests that such a~choice was most likely made due to authors' ignorance on the font selection in \LaTeX{} or simply due to laziness.

\subsubsection{Math italics vs. text italics}

A~sequence of letters in math mode is interpreted by \LaTeX{} as a~product of single-letter variables and corresponding spacing rules are applied accordingly
(see Tab.~\ref{tab:italics}).
This is one of the reasons why math mode is used for mathematics and text mode for text.

\begin{table}[htbp]
\centering
\caption{Visual differences between math italics and text italics.}
\begin{tabular}{|l|l|}
\hline
\LaTeX{} input & output \\
\hline
\verb_$default, efficiency, VARIATION.$_ & $default, efficiency, VARIATION.$ \\
\verb_\textit{default, efficiency, VARIATION.}_ & \textit{default, efficiency, VARIATION.} \\
\hline
\end{tabular}
\label{tab:italics}
\end{table}

\subsection{Greek letters}
\label{sec:greek}

\subsubsection{Text mode}
\label{subsec:greek-text}

To write Greek text, Greek characters must be provided by the text font (e.g. \texttt{lmodern}).
In that case, you can enable the support for the Greek text using the \texttt{babel} package, e.g.:
\begin{verbatim}
\usepackage[LGR,T1]{fontenc}
\usepackage[greek,british]{babel}
\newcommand{\gr}[1]{{\foreignlanguage{greek}{#1}}}
\gr{a}, \gr{p}, \gr{y}
\end{verbatim}
%\gr{a}, \gr{p}, \gr{y}, π
See \url{https://www.ctan.org/topic/font-greek} for a~list of fonts for Greek text.

If your text font does not support Greek text but you only need individual upright Greek letters, you can use a~package that defines commands for them using a~different font (e.g. \verb|\textpi|, \verb|\textDelta| commands in the \texttt{textgreek} package) or you can use the math font (see~\ref{subsec:greek-math}).

\subsubsection{Math mode}
\label{subsec:greek-math}

Math fonts, matching the text font, usually provide italic lowercase and upright uppercase Greek characters.
Upright lowercase and italic uppercase Greek characters are usually not available in the math fonts by default but sometimes can be made so.

\begin{itemize}
\item Characters can be available as commands provided by the math font package (e.g. \verb|\uppi|, \verb|\itDelta| commands in the \texttt{newtxmath} package).
\item Characters can be can be defined by declaring the corresponding alphabet manually (see \verb|\mathup|~\ref{sec:mathup}).
\item Characters can be can be defined by declaring the corresponding alphabet using a~package (e.g. \texttt{isomath}).
\item Characters can be can be defined as commands provided by a~separate package, using a~specific font which might not match the text font (e.g. \verb|\uppi|, \verb|\Updelta| commands in the \texttt{upgreek} package).
\item Alternatively, one can use characters from the text font, if available.
\end{itemize}

See more options suggested in the \texttt{isomath} package manual.

\section{Spacing}
\label{sec:spacing}

\qm{There shall be spaces on both sides of most signs for dyadic operators such as $+$, $-$, $\pm$, $\times$ and $\cdot$ (but not for the solidus), and relations, such as $=$, $<$, $\le$, but not after monadic operators $+$ and $-$.}~\cite{iso-80000-1}\\
Example: $1-3=-2$.

\begin{itemize}
\item To avoid a~line break between two pieces of text, use the unbreakable space \verb|~|, typically in \verb|Ref.~\cite| or \verb|Fig.~\ref|.
You can also wrap an entire expression into \verb_\mbox{}_.
\item Use \verb_{}_ after user-defined text or symbol commands.
\item Do not use the \texttt{xspace} package. (\href{https://tex.stackexchange.com/a/86620}{Discouraged by the author.})
\end{itemize}

%Space after period.
%\verb_\frenchspacing_

\section{Punctuation}

\subsection{Hyphen, en dash, minus}

They have different meaning and therefore look different (see Tab.~\ref{tab:dash}).

\begin{description}
\item [hyphen] typical usage: compound adjectives, hyphenation\\
examples: heavy-ion collision, strange-particle production, invariant-mass distribution, centre-of-mass energy
\item [en dash] typical usage: pairs, ranges\\
examples: nucleus--nucleus collision, quark--gluon plasma, Bose--Einstein distribution, jet--hadron correlations, \qtyrange{2}{3}{\metre}, \qtyrange{0}{10}{\percent}, 3--4 June
\item [minus] typical usage: subtraction, negative sign\\
examples: \ml{1-3=-2}, \ml{\conste^{\consti\constpi} = -1}
\end{description}

\begin{table}[htbp]
\centering
\caption{Visual differences between hyphen, en dash and minus.}
\begin{tabular}{|l|l|l|}
\hline
symbol & \LaTeX{} input & output \\
\hline
hyphen & \verb!a-b! & a-b \\
en dash & \verb!a--b! & a--b \\
minus & \verb!\(a-b\)! & \ml{a-b}  \\
\hline
\end{tabular}
\label{tab:dash}
\end{table}

\subsection{Quotation marks}

\begin{itemize}
\item \verb_``correct''_ $\to$ ``correct''
\item \verb_"incorrect"_ $\to$ "incorrect"
\end{itemize}

localisation?

\section{Bibliography issues}

It is often very convenient to copy reference entries from \href{https://inspirehep.net/}{INSPIRE} in the \textsc{Bib}\TeX{} format and paste them in a \texttt{bib} database.
However one should refrain from copy-pasting the entries blindly.

\subsection{Publication titles}

Titles of publications are sometimes stored incorrectly by INSPIRE.
Usual discrepancies concern hyphens vs. dashes, lower vs. upper case and mathematical expressions.
If you want to make sure that titles of references appear correctly in your document, adjust your \textsc{Bib}\TeX{} entry according to the original title as it appears in the actual published \texttt{pdf} file.
Correct potential typography errors in the original title.

Some bibliography styles modify titles by changing the case of letters (e.g. first letters of words in upper case, others in lower case).
In order to avoid this behaviour enclose the title in additional braces: \verb_title = {{Title of cited paper}}_

Examples of publications with badly formatted titles on INSPIRE:

\doi{10.1103/PhysRevC.74.034903},

\doi{10.1103/PhysRevC.48.2462},

\doi{10.1103/PhysRevC.79.034909},

\doi{10.1140/epjc/s10052-009-1227-4},

\doi{10.1103/PhysRevC.69.034909},

\doi{10.1103/PhysRevC.72.014908},

\doi{10.1007/JHEP06(2016)050},

\doi{10.1016/j.physletb.2016.07.050},

\doi{10.1016/j.physletb.2016.05.027},

\doi{10.1016/j.physletb.2015.12.030},

\doi{10.1103/PhysRevC.93.024905},

\doi{10.1103/PhysRevLett.111.162301},

\doi{10.1140/epjc/s10052-011-1594-5},

\doi{10.1140/epjc/s10052-014-3231-6},

\doi{10.1016/0370-2693(89)90675-8},

\doi{10.1103/PhysRevLett.87.212502},

\doi{10.1007/BF01279121}.

\subsection{Journal names and volume numbers}

For journals having a~single letter at the end of their names (e.g. Physics Letters~B, Physical Review~A) INSPIRE strips this letter away and puts it in the \verb_volume_ field together with the volume number.\\
\verb_journal = {Phys. Lett.},_ \\
\verb_volume = {B728},_\\
This results in incorrect format of the bibliography entry which is especially noticeable when each entry is typeset using a~different font:\\
\textit{Phys. Lett.} \textbf{B728} instead of the correct \textit{Phys. Lett. B} \textbf{728}.

Abbreviations of journal names follow the rules prescribed by the ISO~4 standard~\cite{iso-4}.


\section{Other style remarks}

orphans, widows

It is a~good practice to prevent single-letter words (typically \qm{a} and \qm{I} in English) from hanging at the end of a~line by putting a~non-breaking space \verb!~! between them and the next word in the sentence.

customised hyphenation

\section{Tips}

\cite{vieth-experience}
\cite{latex-short,latex-tabu,latex-tips,latex-dos-donts,latex-wikibook}

\subsection{Useful \LaTeX{} packages}

\subsubsection{\texttt{siunitx}}

\href{https://ctan.org/pkg/siunitx}{\texttt{siunitx}}

\qty{1}{\micro\ohm}

useful also for number formatting \num{1.3e6}, \num{1234}, \num{12345}, \num{1,5}

\subsubsection{\texttt{isomath}}

\href{https://ctan.org/pkg/isomath}{\texttt{isomath}}

\subsection{Obsolete \LaTeX{} packages}

There is a~list of obsolete packages and their replacements on the \href{https://latex.org/forum/viewtopic.php?t=6637}{\LaTeX{} Community} webpage.

\subsection{Useful \LaTeX{} commands}

\cprotect\subsubsection{\verb_\mathup_}
\label{sec:mathup}

To print mathematical symbols using upright medium-weight font without changing the font family, one can define
\begin{verbatim}
\DeclareMathAlphabet{\mathup}{T1}{\familydefault}{m}{n}
\end{verbatim}
Typical usage:
\begin{itemize}
\item differential \ml{\mathup{d}} (\verb_\mathup{d}_),
\item mathematical constants (\ml{\mathup{e}}, \ml{\mathup{i}}) (\verb_\mathup{e}_, \verb_\mathup{i}_).
\end{itemize}
\url{https://tex.stackexchange.com/questions/98008/is-mathrm-really-preferable-to-text}

\cprotect\subsubsection{\verb_\tn_}

To print text using upright medium-weight font without changing the font family, one can define a shortcut for \verb_\textnormal_:
\begin{verbatim}
\newcommand{\tn}[1]{\textnormal{#1}}
\end{verbatim}
Typical usage: text entities in mathematical environments, e.g. descriptive subscripts and superscripts, particle symbols using letters of the Latin alphabet.
See Sec.~\ref{sec:greek} for symbols of particles using letters of the Greek alphabet.

Examples:
\begin{itemize}
\item transverse momentum \ml{p_{\tn{T}}} (\verb!$p_{\tn{T}}$!)
\item centre-of-mass energy of a nucleus--nucleus collision \ml{\sqrt{s_{\tn{NN}}}} (\verb!$\sqrt{s_{\tn{NN}}}$!)
\item kaons \kaonplus, \kaonminus, \kzeros, \kzerol{} (see Sec.~\ref{sec:particles})
\end{itemize}

\cprotect\subsubsection{\verb_\ml_ and \verb_\me_}

Shortcuts for the inline math mode (math environment) \verb_\( \)_ and the (unnumbered) equation math mode (displaymath environment) \verb_\[ \]_
\begin{verbatim}
\newcommand{\ml}[1]{\(#1\)}
\newcommand{\me}[1]{\[#1\]}
\end{verbatim}

\subsubsection{Particle symbols}
\label{sec:particles}

Particle names are not mathematical entities.
Therefore, all particle symbols must be typeset using an upright text font, if possible.
Same applies to text subscripts, e.g. \qm{\quark{c}} in \qm{\lmbc} (meaning \qm{\quark{c} quark}) or \qm{\tn{S}} in \qm{\kzeros{}} (meaning \qm{short}).
Electric charge and other quantum numbers, indicated in the superscript, are mathematical entities and therefore must be typeset in math mode.

Examples of macros for particle symbols using the text mode and math mode correctly are listed in Tabs.~\ref{tab:particles-simple-gr}, \ref{tab:particles-simple-newtx}, \ref{tab:particles-derived}.
They make use of the following macros.
\begin{verbatim}
\newcommand{\particle}[1]{\textup{#1}} % upright text font
\newcommand{\anti}[1]{\ensuremath{\overline{#1}}} % anti-particle
\newcommand{\quark}[1]{\particle{#1}} % quark
\end{verbatim}

Definitions of macros for symbols of particles with Greek letters in names depend on the availability of the Greek letters in the text font (see Sec.~\ref{subsec:greek-text}).
If available, one can define:
\begin{verbatim}
\newcommand{\partgr}[1]{{\particle{\gr{#1}}}} % upright Greek text font
\end{verbatim}

See also notes about spacing in Sec.~\ref{sec:spacing}.

\begin{table}[htbp]
\centering
\caption{Macros for simple particle symbols with Greek text support.}
\begin{tabular}{|c|l|}
\hline
\quark{u} & \verb!\quark{u}! \\
\proton & \verb!\newcommand{\proton}{\particle{p}}! \\
\pb & \verb!\newcommand{\pb}{\particle{Pb}}! \\
\neutron & \verb!\newcommand{\neutron}{\particle{n}}! \\
\electron & \verb!\newcommand{\electron}{\particle{e}}! \\
\muon & \verb!\newcommand{\muon}{\particlegr{m}}! \\
\tauon & \verb!\newcommand{\tauon}{\particlegr{t}}! \\
\neutrino & \verb!\newcommand{\neutrino}{\particlegr{n}}! \\
\pion & \verb!\newcommand{\pion}{\particlegr{p}}! \\
\kaon & \verb!\newcommand{\kaon}{\particle{K}}! \\
\lmb & \verb!\newcommand{\lmb}{\particlegr{L}}! \\
\mesonpsi & \verb!\newcommand{\mesonpsi}{\particlegr{y}}! \\
\mesonphi & \verb!\newcommand{\mesonphi}{\particlegr{f}}! \\
\photon & \verb!\newcommand{\photon}{\particlegr{g}}! \\
\gluon & \verb!\newcommand{\gluon}{\particle{g}}! \\
\bosonw & \verb!\newcommand{\bosonw}{\particle{W}}! \\
\bosonz & \verb!\newcommand{\bosonz}{\particle{Z}}! \\
\higgs & \verb!\newcommand{\higgs}{\particle{H}}! \\
\hline
\end{tabular}
\label{tab:particles-simple-gr}
\end{table}

\begin{table}[htbp]
\centering
\caption{Macros for simple particle symbols with \texttt{newtxmath}.}
\begin{tabular}{|c|l|}
\hline
\muon & \verb!\newcommand{\muon}{\ensuremath{\upmu}}! \\
\tauon & \verb!\newcommand{\tauon}{\ensuremath{\uptau}}! \\
\neutrino & \verb!\newcommand{\neutrino}{\ensuremath{\upnu}}! \\
\pion & \verb!\newcommand{\pion}{\ensuremath{\uppi}}! \\
\lmb & \verb!\newcommand{\lmb}{\ensuremath{\upLambda}}! \\
\mesonpsi & \verb!\newcommand{\mesonpsi}{\ensuremath{\uppsi}}! \\
\mesonphi & \verb!\newcommand{\mesonphi}{\ensuremath{\upvarphi}}! \\
\photon & \verb!\newcommand{\photon}{\ensuremath{\upgamma}}! \\
\hline
\end{tabular}
\label{tab:particles-simple-newtx}
\end{table}

\begin{table}[htbp]
\centering
\caption{Macros for derived particle symbols.}
\begin{tabular}{|c|l|}
\hline
\aproton & \verb!\newcommand{\aproton}{\anti{\proton}}! \\
\electronminus & \verb!\newcommand{\electronminus}{\ensuremath{\electron^{-}}}! \\
\positron & \verb!\newcommand{\positron}{\ensuremath{\electron^{+}}}! \\
\muonminus & \verb!\newcommand{\muonminus}{\ensuremath{\muon^{-}}}! \\
\muonplus & \verb!\newcommand{\muonplus}{\ensuremath{\muon^{+}}}! \\
\tauonminus & \verb!\newcommand{\tauonminus}{\ensuremath{\tauon^{-}}}! \\
\tauonplus & \verb!\newcommand{\tauonplus}{\ensuremath{\tauon^{+}}}! \\
\bosonwminus & \verb!\newcommand{\bosonwminus}{\ensuremath{\bosonw^{-}}}! \\
\bosonwplus & \verb!\newcommand{\bosonwplus}{\ensuremath{\bosonw^{+}}}! \\
\pionminus & \verb!\newcommand{\pionminus}{\ensuremath{\pion^{-}}}! \\
\pionplus & \verb!\newcommand{\pionplus}{\ensuremath{\pion^{+}}}! \\
\pionzero & \verb!\newcommand{\pionzero}{\ensuremath{\pion^{0}}}! \\
\kaonminus & \verb!\newcommand{\kaonminus}{\ensuremath{\kaon^{-}}}! \\
\kaonplus & \verb!\newcommand{\kaonplus}{\ensuremath{\kaon^{+}}}! \\
\kzeros & \verb!\newcommand{\kzeros}{\ensuremath{\kaon^{0}_{\textup{S}}}}! \\
\kzerol & \verb!\newcommand{\kzerol}{\ensuremath{\kaon^{0}_{\textup{L}}}}! \\
\dzero & \verb!\newcommand{\dzero}{\ensuremath{\particle{D}^{0}}}! \\
\dplus & \verb!\newcommand{\dplus}{\ensuremath{\particle{D}^{+}}}! \\
\dsubs & \verb!\newcommand{\dsubs}{\ensuremath{\particle{D}_{\quark{s}}^{+}}}! \\
\lmbc & \verb!\newcommand{\lmbc}{\ensuremath{\lmb_{\quark{c}}^{+}}}! \\
\lmbb & \verb!\newcommand{\lmbb}{\ensuremath{\lmb_{\quark{b}}^{0}}}! \\
\bplus & \verb!\newcommand{\bplus}{\ensuremath{\particle{B}^{+}}}! \\
\jpsi & \verb!\newcommand{\jpsi}{\mbox{\particle{J}/\mesonpsi}}! \\
\vzero & \verb!\newcommand{\vzero}{\ensuremath{\particle{V}^{0}}}! \\
\hline
\end{tabular}
\label{tab:particles-derived}
\end{table}

\subsubsection{High-energy physics quantities}

\subsection{ROOT}

\verb_TLatex_ class

Italics in ROOT \verb!#it{}!.

Minus signs on axes since v5-34-22.

\verb!#minus!, \verb!#plus! since v5-34-11.

En dash is not available in ROOT. Use \verb_\minus_ instead.

Relation symbols \verb_>_ (greater than) and \verb_<_ (lesser than) look different when storing a~\verb_TCanvas_ directly in the \texttt{pdf} format.

Note that Greek letters are printed using an upright font by default in ROOT.

\section{Common mistakes}

\subsection{Confusing text mode and math mode}

\subsection{Wrong spacing}

\begin{itemize}
\item Space around \qm{\ml{/}} in equations.
\end{itemize}

\subsection{Wrong units}

\begin{itemize}
\item Unit of momentum is \si{\gevc}, not \si{\gev}. E.g. \ml{p = \qty{5}{\gevc}}.
\item Unit of mass is \si{\gevcc}, not \si{\gev}.
\item Unit of angle is \unit{\radian}. E.g. \ml{\phi = \qty{1}{\radian}}.
\item Pseudorapidity is dimensionless. E.g. \ml{\eta = 0.1}.
\end{itemize}

\subsection{Wrong axis labels}

See Sec.~\ref{subsec:graphs} for the guidelines.

\begin{itemize}

\item \ml{\dd N/\dd \pt\ (\unit{\gevc})^{-1}}

Exponents should not be outside the parentheses if the parentheses are supposed to be placed around the units. One can simply write: \( \dd N/\dd p_\tn{T}\ (c/\tn{GeV}) \).

\item \ml{\tn{Counts}/\qty{1}{\mevcc}}

Why is it wrong?

\begin{itemize}
\item The division sign is used multiple times without parentheses.
\item The expression is not dimensionless and therefore does not match the dimension of the values on the axis (which are numbers).
\item Most importantly, it is not expressing the right quantity. In most cases, this kind of a title aims to express that the values on the \ml{y}-axis are counts in bins of a given width. The title however suggests, that the counts are divided by the bin width, which is not true. The information about the bin width is reported on the \ml{x}-axis and does not affect the way the counts are obtained in any way (as opposed to e.g. \ml{\dd N/\dd x}). So if it is considered important to state the bin width, it should be mentioned in the legend and not in the axis label. The \ml{y}-axis simply reports counts and that is what it should be titled.
\end{itemize}
\end{itemize}

\subsection{Others}

\begin{itemize}

\item \(k_\tn{t}\), anti-\(k_\tn{t}\) algorithm, not \(k_\tn{T}\) (see the original articles)

\end{itemize}

\subsection{ALICE guidelines}

Official guidelines: pp, p--Pb, Pb--Pb for proton--proton, proton--lead and lead--lead collisions, respectively. Seriously?!
Stay consistent! pp \( \rightarrow \) p--p.

\ml{\phi} is not a meson!
There is no upright counterpart for this glyph in \LaTeX{} text fonts because such glyph does not exist in the Greek alphabet.
Since particle symbols are text entities they should be printed using text font.

\appendix

\section{Changelog}

%\nocite{*}
\bibliographystyle{/home/vit/Dokumenty/LaTeX-sandbox/templates/mystyle-urlbst}
\bibliography{typography}

\end{document}
